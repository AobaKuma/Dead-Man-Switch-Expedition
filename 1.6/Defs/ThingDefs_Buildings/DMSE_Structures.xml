<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ThingDef ParentName="BuildingBase">
    <defName>DMSE_Sealed_Wall</defName>
    <label>vacuum sealing facility wall</label>
    <description>A structure with vacuum sealing layers made by plasticfiber, allows facility assort with vacuum pumps can effectively maintain a sufficiently large vacuum environment at atmospheric pressure, Ideal for storage extremely flammable products or simply for entity containment.</description>
    <graphicData>
      <texPath>Things/Building/Wall/Wall_Atlas_Concrete</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <linkType>CornerFiller</linkType>
      <linkFlags>
        <li>Wall</li>
        <li>Rock</li>
      </linkFlags>
      <damageData>
        <rect>(0.35,0.1,0.3,0.7)</rect>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
        <edgeTop>Damage/Edge</edgeTop>
        <edgeBot>Damage/Edge</edgeBot>
        <edgeLeft>Damage/Edge</edgeLeft>
        <edgeRight>Damage/Edge</edgeRight>
      </damageData>
      <shadowData>
        <volume>(1, 0.5, 0.45)</volume>
        <offset>(0,0,-0.23)</offset>
      </shadowData>
    </graphicData>
    <noRightClickDraftAttack>true</noRightClickDraftAttack>
    <replaceTags>
      <li>Wall</li>
    </replaceTags>
    <uiIconPath>Things/Building/Wall/Wall_Atlas_Concrete_UI</uiIconPath>
    <statBases>
      <Flammability>0</Flammability>
      <WorkToBuild>135</WorkToBuild>
      <MeditationFocusStrength>0.22</MeditationFocusStrength>
    </statBases>
    <useHitPoints>false</useHitPoints>
    <leaveResourcesWhenKilled>false</leaveResourcesWhenKilled>
    <holdsRoof>true</holdsRoof>
    <blockWind>true</blockWind>
    <blockLight>true</blockLight>
    <castEdgeShadows>true</castEdgeShadows>
    <fillPercent>1</fillPercent>
    <drawStyleCategory>Walls</drawStyleCategory>
    <coversFloor>true</coversFloor>
    <terrainAffordanceNeeded>Heavy</terrainAffordanceNeeded>
    <altitudeLayer>Building</altitudeLayer>
    <passability>Impassable</passability>
    <tickerType>Never</tickerType>
    <rotatable>false</rotatable>
    <selectable>true</selectable>
    <neverMultiSelect>true</neverMultiSelect>
    <fertility>0</fertility>
    <canOverlapZones>false</canOverlapZones>
    <building>
      <paintable>false</paintable>
      <isInert>true</isInert>
      <isPlaceOverableWall>true</isPlaceOverableWall>
      <ai_chillDestination>false</ai_chillDestination>
      <supportsWallAttachments>true</supportsWallAttachments>
      <paintable>true</paintable>
      <isTargetable>false</isTargetable>
      <ai_neverTrashThis>true</ai_neverTrashThis>
      <deconstructible>false</deconstructible>
      <alwaysDeconstructible>false</alwaysDeconstructible>
    </building>
    <comps>
      <li Class="CompProperties_MeditationFocus">
        <statDef>MeditationFocusStrength</statDef>
        <focusTypes>
          <li>Minimal</li>
        </focusTypes>
      </li>
    </comps>
    <damageMultipliers>
      <li>
        <damageDef>Bomb</damageDef>
        <multiplier>0</multiplier>
      </li>
      <li>
        <damageDef>Thump</damageDef>
        <multiplier>0</multiplier>
      </li>
    </damageMultipliers>
  </ThingDef>

  <ThingDef ParentName="BuildingBase">
    <defName>DMSE_StealthDevice</defName>
    <label>signal stealth device</label>
    <!--一種巨大的等離子場護盾發生器，能夠有效的屏蔽訊號的產生，並透過定向抵銷雷達波來使外部無法搜索到發生器所在的小行星基地，但要注意內部的活體訊號越多會使得使用該設備所消耗的電力越多，並且在成功阻止一次雷達搜索後需要一天的時間來冷卻並重新充能。 -->
    <description>A massive plasma field generator, widely used by the colonial fleet in automated orbital facilities, effectively shielding against internal life signals, effectively cloaking the device in space and rendering it invisible to active radar.\n\nInternal life signals increase the device's power consumption, requiring a day to cool and recharge after successful shielding.</description>
    <graphicData>
      <texPath>Things/Building/StealthDevice/building</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <drawSize>(6,6)</drawSize>
      <drawOffset>(0,0,0)</drawOffset>
      <damageData>
        <cornerTL>Damage/Corner</cornerTL>
        <cornerTR>Damage/Corner</cornerTR>
        <cornerBL>Damage/Corner</cornerBL>
        <cornerBR>Damage/Corner</cornerBR>
      </damageData>
    </graphicData>
    <altitudeLayer>Building</altitudeLayer>
    <rotatable>false</rotatable>
    <passability>PassThroughOnly</passability>
    <castEdgeShadows>true</castEdgeShadows>
    <staticSunShadowHeight>0.3</staticSunShadowHeight>
    <fillPercent>0.9</fillPercent>
    <canOverlapZones>false</canOverlapZones>
    <pathCost>42</pathCost>
    <tickerType>Normal</tickerType>
    <statBases>
      <MaxHitPoints>750</MaxHitPoints>
      <WorkToBuild>30000</WorkToBuild>
      <Mass>500</Mass>
      <Flammability>0.25</Flammability>
    </statBases>
    <size>(5,5)</size>
    <costList>
      <Tungsteel>500</Tungsteel>
      <DMSE_Graphene>75</DMSE_Graphene>
      <ComponentStamped>12</ComponentStamped>
      <ComponentSpacer>6</ComponentSpacer>
      <ComponentTransmitter>4</ComponentTransmitter>
    </costList>
    <building>
      <destroySound>BuildingDestroyed_Metal_Small</destroySound>
    </building>
    <researchPrerequisites>
      <li>DMSE_Aerospace</li>
    </researchPrerequisites>
    <designationCategory>DMS_Category</designationCategory>
    <minifiedDef>MinifiedThing</minifiedDef>
    <constructionSkillPrerequisite>8</constructionSkillPrerequisite>
    <thingCategories>
      <li>BuildingsMisc</li>
    </thingCategories>
    <comps>
      <li Class="CompProperties_Breakdownable" />
      <li Class="CompProperties_Flickable" />
      <li Class="CompProperties_Power">
        <compClass>CompPowerTrader</compClass>
        <basePowerConsumption>1000</basePowerConsumption>
        <transmitsPower>true</transmitsPower>
      </li>
      <li Class="Fortified.CompProperties_ShieldingDevice">
        <incidentsWhitelist>
          <li>Infestation</li>
          <li>DeepDrillInfestation</li>
          <li>ManhunterPack</li>
          <li>AnimalInsanityMass</li>
          <!-- Anomaly -->
          <li MayRequire="Ludeon.RimWorld.Anomaly">ShamblerSwarm</li>    <!-- ShamblerSwarm --><!--蹒跚猎群-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">ShamblerSwarmAnimals</li>    <!-- ShamblerSwarmAnimals --><!--蹒跚猎群-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">SmallShamblerSwarm</li>    <!-- SmallShamblerSwarm --><!--隐形魔猎群-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">SightstealerSwarm</li>    <!-- SightstealerSwarm --><!--蹒跚猎群-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">ShamblerAssault</li>    <!-- ShamblerAssault --><!--蹒跚怪袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">GhoulAttack</li>    <!-- GhoulAttack --><!--食尸鬼袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">Revenant</li>    <!-- Revenant--><!--幽魂-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">SightstealerArrival</li>    <!-- SightstealerArrival--><!--隐形魔出现-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">FleshbeastAttack</li>    <!-- FleshbeastAttack--><!--血肉兽袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">FrenziedAnimals</li>    <!-- FrenziedAnimals--><!--发狂的动物-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">GorehulkAssault</li>    <!-- GorehulkAssault--><!--血棘巨人袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">DevourerAssault</li>    <!-- DevourerAssault--><!--吞噬兽袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">DevourerWaterAssault</li><!-- DevourerWaterAssault--><!--吞噬兽袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">ChimeraAssault</li>    <!-- ChimeraAssault--><!--嵌合兽袭击-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">Nociosphere</li>    <!-- Nociosphere--><!--苦痛之球 -->
          <li MayRequire="Ludeon.RimWorld.Anomaly">PitGate</li>    <!-- PitGate--><!--巨坑 -->
          <li MayRequire="Ludeon.RimWorld.Anomaly">FleshmassHeart</li>    <!-- FleshmassHeart--><!--血肉心脏 -->
          <!-- Alpha Animals -->
          <li MayRequire="sarg.alphaanimals">AA_IncidentStalkingArcticLion</li>
          <li MayRequire="sarg.alphaanimals">AA_IncidentBlizzariskClutchMother</li>
          <li MayRequire="sarg.alphaanimals">AA_IncidentDunealiskClutchMother</li>
          <li MayRequire="sarg.alphaanimals">AA_IncidentFeraliskClutchMother</li>
          <li MayRequire="sarg.alphaanimals">AA_IncidentSummitCrab</li>
          <li MayRequire="sarg.alphaanimals">AA_CactipineDropPod</li>
          <li MayRequire="sarg.alphaanimals">AA_Incident_BlackHive</li>
          <li MayRequire="sarg.alphaanimals">AA_IncidentFungalHusk</li>
          <!--fxz.ratkinanomaly.update-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_ObsessionArrival</li>    <!-- RA_ObsessionArrival--><!--幽怨执念 -->
          <li MayRequire="fxz.ratkinanomaly.update">RA_FruiterCome</li>    <!-- RA_ObsessionArrival--><!--华丽果树 -->
          <!-- Vanilla Genetics Expanded -->
          <li MayRequire="VanillaExpanded.VGeneticsE">GR_ManhunterMonstrosities</li>  <!-- roaming monstrosities -->
          <!-- Vanilla Events Expanded -->
          <li MayRequire="VanillaExpanded.VEE">ManhunterPackPurple</li>  <!-- manhunter pack -->
          <li MayRequire="VanillaExpanded.VEE">AnimalInsanityMassPurple</li>  <!-- mass animal insanity -->

          <!-- Royalty -->
          <li MayRequire="Ludeon.RimWorld.Royalty">ProblemCauser</li>    <!-- problem causer -->
          <!-- Anomaly -->
          <li MayRequire="Ludeon.RimWorld.Anomaly">PsychicRitualSiege</li>    <!-- PsychicRitualSiege--><!--心灵仪式围攻-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">HateChanters</li>    <!-- HateChanters--><!--恶咒吟诵者-->
          <!-- [SR]Raid Extension -->
          <li MayRequire="SR.ModRimworld.RaidExtension">SrPoaching</li>    <!-- Poaching -->
          <li MayRequire="SR.ModRimworld.RaidExtension">SrLogging</li>    <!-- Logging -->
          <li MayRequire="SR.ModRimworld.RaidExtension">SrHositleCaravanPassing</li>    <!-- Hositle Caravan Passing By -->
          <li MayRequire="SR.ModRimworld.RaidExtension">SrHositleTraveler</li>    <!-- Lost Raider -->
          <!-- [SR]Factional War -->
          <li MayRequire="SR.ModRimworld.FactionalWar">SrFactionWar</li>    <!-- Faction Assault -->
          <li MayRequire="SR.ModRimworld.FactionalWar">SrFactionWarShellingSiteGenerate</li>    <!-- Faction Bombardment -->
          <li MayRequire="SR.ModRimworld.FactionalWar">SrFactionWarContentionSiteGenerate</li>    <!-- Faction Contention -->
          <li MayRequire="SR.ModRimworld.FactionalWar">SrFactionWarTempCampSiteGenerate</li>    <!-- Faction Defense -->
          <!-- Vanilla Factions Expanded - Vikings -->
          <li MayRequire="OskarPotocki.VFE.Vikings">VFEV_SlaverRaid</li>    <!-- raid (slavers) -->
          <li MayRequire="OskarPotocki.VFE.Vikings">VFEV_PillageRaid</li>    <!-- raid (pillage) -->
          <!-- Vanilla Events Expanded -->
          <li MayRequire="VanillaExpanded.VEE">RaidEnemyPurple</li>  <!-- enemy raid ice age -->

          <!-- Vanilla -->
          <li>RaidEnemy</li>
          <li>PsychicEmanatorShipPartCrash</li>
          <li>DefoliatorShipPartCrash</li>
          <!-- Anomaly -->
          <li MayRequire="Ludeon.RimWorld.Anomaly">WarpedObelisk_Duplicator</li>    <!-- WarpedObelisk_Duplicator--><!--腐化方尖碑-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">WarpedObelisk_Abductor</li>    <!-- WarpedObelisk_Abductor--><!--扭曲方尖碑-->
          <li MayRequire="Ludeon.RimWorld.Anomaly">WarpedObelisk_Mutator</li>    <!-- WarpedObelisk_Mutator--><!--畸变方尖碑 -->
          <!--fxz.ratkinanomaly.update-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_PokerSoldierArrival</li>    <!-- RA_PokerSoldierArrival--><!--扑克兵 -->
          <li MayRequire="fxz.ratkinanomaly.update">RA_DarkKnightArrivalPre</li>    <!-- RA_DarkKnightArrivalPre--><!--赎罪骑士-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_DarkKnightArrivalPre_Commander</li>    <!-- RA_DarkKnightArrivalPre_Commander--><!--附带骑士长-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_DarkKnightArrival</li>    <!-- RA_DarkKnightArrival--><!--黑暗骑士-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_FleshbeastAttack</li>    <!-- RA_FleshbeastAttack--><!--血肉兽袭击-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_MetalBeanAppear</li>    <!-- RA_MetalBeanAppear--><!--金属蚕豆-->
          <li MayRequire="fxz.ratkinanomaly.update">RA_Curse</li>    <!-- RA_MetalBeanAppear--><!--诅咒-->
        </incidentsWhitelist>
        <coolDownPerRaidPoint>24</coolDownPerRaidPoint>
        <powerCostPerColonist>1000</powerCostPerColonist>
        <activeEffecter>DMSE_Device_Active</activeEffecter>
        <triggerEffecter>DMSE_Device_Trigger</triggerEffecter>
        <cooldownEffecter>DMSE_Device_Cooling</cooldownEffecter>
      </li>
    </comps>
    <placeWorkers>
      <li>PlaceWorker_BandNode</li>
    </placeWorkers>
  </ThingDef>

  <EffecterDef>
    <defName>DMSE_Device_Trigger</defName>
    <children>
      <li>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <fleckDef>MicroSparksFast</fleckDef>
        <burstCount>12~25</burstCount>
        <spawnLocType>OnSource</spawnLocType>
        <scale>1~2</scale>
        <positionRadius>2</positionRadius>
        <rotationRate>-10~10</rotationRate>
        <angle>-180~180</angle>
        <speed>.1~.2</speed>
      </li>
      <li>
        <subEffecterClass>SubEffecter_SprayerTriggered</subEffecterClass>
        <fleckDef>MicroSparks</fleckDef>
        <burstCount>12~25</burstCount>
        <spawnLocType>OnSource</spawnLocType>
        <scale>2~3</scale>
        <positionRadius>3</positionRadius>
        <rotationRate>-10~10</rotationRate>
        <angle>-180~180</angle>
        <speed>.1~.2</speed>
      </li>
    </children>
  </EffecterDef>

  <!-- Active -->
  <EffecterDef>
    <defName>DMSE_Device_Active</defName>
    <children>
      <li>
        <subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
        <fleckDef>MicroSparks</fleckDef>
        <burstCount>1~2</burstCount>
        <spawnLocType>OnSource</spawnLocType>
        <scale>1~3</scale>
        <positionRadius>2</positionRadius>
        <rotationRate>0</rotationRate>
        <angle>-180~180</angle>
        <speed>.01~.1</speed>
      </li>
    </children>
  </EffecterDef>

  <!-- Cooling -->
  <EffecterDef>
    <defName>DMSE_Device_Cooling</defName>
    <children>
      <li>
        <subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
        <fleckDef>Smoke</fleckDef>
        <burstCount>2~5</burstCount>
        <spawnLocType>OnSource</spawnLocType>
        <scale>1~2</scale>
        <positionRadius>2</positionRadius>
        <rotationRate>-5~5</rotationRate>
        <speed>.1~.2</speed>
      </li>
    </children>
  </EffecterDef>
</Defs>