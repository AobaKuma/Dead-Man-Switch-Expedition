<?xml version="1.0" encoding="utf-8"?>
<Defs>

	<!-- ==================== AmmoSet ========================== -->

	<CombatExtended.AmmoSetDef>
		<defName>DMSE_AmmoSet_762x385mmRCannonShell_HV</defName>
		<label>76.2x385mmR Cannon shells(High Velocity)</label>
		<ammoTypes>
			<Ammo_762x385mmRCannonShell_HEAT>DMSE_Bullet_762x385mmRCannonShell_HEAT_HV</Ammo_762x385mmRCannonShell_HEAT>
			<Ammo_762x385mmRCannonShell_AP>DMSE_Bullet_762x385mmRCannonShell_AP_HV</Ammo_762x385mmRCannonShell_AP>
			<Ammo_762x385mmRCannonShell_HE>DMSE_Bullet_762x385mmRCannonShell_HE_HV</Ammo_762x385mmRCannonShell_HE>
			<Ammo_762x385mmRCannonShell_APCR>DMSE_Bullet_762x385mmRCannonShell_APCR_HV</Ammo_762x385mmRCannonShell_APCR>
			<Ammo_762x385mmRCannonShell_EMP>DMSE_Bullet_762x385mmRCannonShell_EMP_HV</Ammo_762x385mmRCannonShell_EMP>
			<DMSE_Ammo_762x385mmRCannonShell_PELE>DMSE_Bullet_762x385mmRCannonShell_PELE_HV</DMSE_Ammo_762x385mmRCannonShell_PELE>
		</ammoTypes>
		<similarTo>AmmoSet_HeavyCannon</similarTo>
	</CombatExtended.AmmoSetDef>

	<!-- ==================== Ammo ========================== -->

	<!-- Note By PolandBall -->
	<!-- This ammunition is designed to consume surplus Tungsteel while allowing more players to test new PELE (Penetration with Enhanced Lateral Effects) ammunition design concepts. -->
	<!-- 该弹药是为了消耗过剩的Tungsteel的同时，让更多玩家测试新的PELE（横向效应增强弹）弹药设计思路。 -->

	<ThingDef Class="CombatExtended.AmmoDef" ParentName="762x385mmRCannonShellBase">
		<defName>DMSE_Ammo_762x385mmRCannonShell_PELE</defName>
		<description>The design purpose of this ammunition is to experiment with tungsten steel as a new material for projectiles, while extensively testing the PELE (Penetration with Enhanced Lateral Effects) ammunition design in order to gather comprehensive feedback for performance improvements.</description>
		<label>76.2x385mmR cannon shell (PELE-Tungsteel)</label>
		<graphicData>
			<texPath>Things/Ammo/Cannon/Tank/AP</texPath>
			<graphicClass>Graphic_StackCount</graphicClass>
		</graphicData>
		<statBases>
			<MaxHitPoints>200</MaxHitPoints>
			<Mass>15</Mass>
			<Bulk>10</Bulk>
		</statBases>
		<ammoClass>DMSE_PELE</ammoClass>
		<detonateProjectile>DMSE_Bullet_762x385mmRCannonShell_PELE_HV</detonateProjectile>
	</ThingDef>

	<!-- ================== Projectiles ================== -->

	<ThingDef ParentName="Base40x365mmBoforsBullet">
		<defName>DMSE_Bullet_762x385mmRCannonShell_PELE_HV</defName>
		<label>76.2x385mmR cannon shell (PELE-Tungsteel)</label>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Bullet</damageDef>
			<damageAmountBase>350</damageAmountBase>
			<armorPenetrationSharp>135</armorPenetrationSharp>
			<armorPenetrationBlunt>41283.08</armorPenetrationBlunt>
			<speed>153</speed>
			<secondaryDamage>
				<li>
					<def>Fragment</def>
					<amount>250</amount>
				</li>
			</secondaryDamage>
		</projectile>
		<comps>
			<li Class="CombatExtended.CompProperties_Fragments">
				<fragments>
					<DMSE_Fragment_Small>10</DMSE_Fragment_Small>
					<DMSE_Fragment_Medium>10</DMSE_Fragment_Medium>
					<DMSE_Fragment_Large>5</DMSE_Fragment_Large>
				</fragments>
				<fragXZAngleRange>-7~7</fragXZAngleRange>
				<fragAngleRange>0~2</fragAngleRange>
			</li>
		</comps>
	</ThingDef>

	<!-- =============== Fragments For PELE-Tungsteel =============== -->

	<ThingDef ParentName="BaseFragment">
		<defName>DMSE_Fragment_Large</defName>
		<label>large fragments</label>
		<graphicData>
			<texPath>Things/Projectile/Fragments/Fragment_Large</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Fragment</damageDef>
			<damageAmountBase>34</damageAmountBase>
			<speed>60</speed>
			<armorPenetrationSharp>4.5</armorPenetrationSharp>
			<armorPenetrationBlunt>122.5</armorPenetrationBlunt>
			<tickToTruePos>0</tickToTruePos>
			<ballisticCoefficient>9.92~10.92</ballisticCoefficient>
			<gravityFactor>5</gravityFactor>
			<mass>65~75</mass>
			<diameter>10~12</diameter>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="BaseFragment">
		<defName>DMSE_Fragment_Medium</defName>
		<label>medium fragments</label>
		<graphicData>
			<texPath>Things/Projectile/Fragments/Fragment_Medium</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Fragment</damageDef>
			<damageAmountBase>23</damageAmountBase>
			<speed>50</speed>
			<armorPenetrationSharp>3</armorPenetrationSharp>
			<armorPenetrationBlunt>63.38</armorPenetrationBlunt>
			<tickToTruePos>0</tickToTruePos>
			<gravityFactor>60</gravityFactor>
			<diameter>6~8</diameter>
			<mass>14~16</mass>
			<ballisticCoefficient>9.92~10.92</ballisticCoefficient>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="BaseFragment"><!-- Flies from around 4 to 35 cells away from the explosion if the angle range is unchanged. -->
		<defName>DMSE_Fragment_Small</defName>
		<label>small fragments</label>
		<graphicData>
			<texPath>Things/Projectile/Fragments/Fragment_Small</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Fragment</damageDef>
			<damageAmountBase>12</damageAmountBase>
			<speed>40</speed>
			<armorPenetrationSharp>2</armorPenetrationSharp>
			<armorPenetrationBlunt>14.4</armorPenetrationBlunt>
			<tickToTruePos>0</tickToTruePos>
			<gravityFactor>5</gravityFactor>
			<diameter>3.5~4.5</diameter>
			<mass>3.5~4.5</mass>
			<ballisticCoefficient>9.92~10.92</ballisticCoefficient>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="Base762x385mmRCannonShell">
		<defName>DMSE_Bullet_762x385mmRCannonShell_HEAT_HV</defName>
		<label>76.2x385mmR cannon shell (HEAT)</label>
		<graphicData>
			<texPath>Things/Projectile/Cannon/HEAT</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Bullet</damageDef>
			<damageAmountBase>264</damageAmountBase>
			<soundExplode>MortarBomb_Explode</soundExplode>
			<armorPenetrationSharp>300</armorPenetrationSharp>
			<armorPenetrationBlunt>38.652</armorPenetrationBlunt>
			<speed>153</speed>
		</projectile>
		<comps>
			<li Class="CombatExtended.CompProperties_ExplosiveCE">
				<damageAmountBase>110</damageAmountBase>
				<explosiveDamageType>Bomb</explosiveDamageType>
				<explosiveRadius>1</explosiveRadius>
				<applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
			</li>
			<li Class="CombatExtended.CompProperties_Fragments">
				<fragments>
					<Fragment_Large>11</Fragment_Large>
					<Fragment_Small>7</Fragment_Small>
				</fragments>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="Base40x365mmBoforsBullet">
		<defName>DMSE_Bullet_762x385mmRCannonShell_AP_HV</defName>
		<label>76.2x385mmR cannon shell (AP)</label>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Bullet</damageDef>
			<damageAmountBase>250</damageAmountBase>
			<armorPenetrationSharp>165</armorPenetrationSharp>
			<armorPenetrationBlunt>41283.08</armorPenetrationBlunt>
			<speed>153</speed>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="Base762x385mmRCannonShell">
		<defName>DMSE_Bullet_762x385mmRCannonShell_HE_HV</defName>
		<label>76.2x385mmR cannon shell (HE)</label>
		<thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
		<graphicData>
			<texPath>Things/Projectile/Cannon/HE</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Bomb</damageDef>
			<damageAmountBase>99</damageAmountBase>
			<explosionRadius>2</explosionRadius>
			<soundExplode>MortarBomb_Explode</soundExplode>
			<applyDamageToExplosionCellsNeighbors>true</applyDamageToExplosionCellsNeighbors>
			<speed>153</speed>
		</projectile>
		<comps>
			<li Class="CombatExtended.CompProperties_Fragments">
				<fragments>
					<Fragment_Large>21</Fragment_Large>
					<Fragment_Small>12</Fragment_Small>
				</fragments>
			</li>
		</comps>
	</ThingDef>

	<ThingDef ParentName="Base40x365mmBoforsBullet">
		<defName>DMSE_Bullet_762x385mmRCannonShell_APCR_HV</defName>
		<label>76.2x385mmR cannon shell (APCR)</label>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>Bullet</damageDef>
			<damageAmountBase>210</damageAmountBase>
			<armorPenetrationSharp>192</armorPenetrationSharp>
			<armorPenetrationBlunt>36830.16</armorPenetrationBlunt>
			<speed>207</speed>
		</projectile>
	</ThingDef>

	<ThingDef ParentName="Base762x385mmRCannonShell">
		<defName>DMSE_Bullet_762x385mmRCannonShell_EMP_HV</defName>
		<label>76.2x385mmR cannon shell (EMP)</label>
		<thingClass>CombatExtended.ProjectileCE_Explosive</thingClass>
		<graphicData>
			<texPath>Things/Projectile/Cannon/EMP</texPath>
			<graphicClass>Graphic_Single</graphicClass>
		</graphicData>
		<projectile Class="CombatExtended.ProjectilePropertiesCE">
			<damageDef>EMP</damageDef>
			<damageAmountBase>99</damageAmountBase>
			<explosionRadius>4</explosionRadius>
			<speed>153</speed>
		</projectile>
	</ThingDef>

	<!-- ==================== Recipes ========================== -->

	<RecipeDef ParentName="CannonAmmoRecipeBase">
		<defName>MakeDMSE_Ammo_762x385mmRCannonShell_PELE</defName>
		<label>make 76.2x385mmR (PELE-Tungsteel) cannon shells x5</label>
		<description>Craft 5 76.2x385mmR (PELE-Tungsteel) cannon shells.</description>
		<jobString>Making 76.2x385mmR (PELE-Tungsteel) cannon shells.</jobString>
		<researchPrerequisite Inherit="False" />
		<researchPrerequisites>
			<li>CE_TurretHeavyWeapons</li>
			<li>CE_AdvancedAmmo</li>
		</researchPrerequisites>
		<workAmount>20000</workAmount>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>Tungsteel</li>
					</thingDefs>
				</filter>
				<count>200</count>
			</li>
			<li>
				<filter>
					<thingDefs>
						<li>Plasteel</li>
					</thingDefs>
				</filter>
				<count>50</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>Tungsteel</li>
				<li>Plasteel</li>
			</thingDefs>
		</fixedIngredientFilter>
		<products>
			<DMSE_Ammo_762x385mmRCannonShell_PELE>5</DMSE_Ammo_762x385mmRCannonShell_PELE>
		</products>
	</RecipeDef>

</Defs>